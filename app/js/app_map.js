webpackJsonp([0],[function(t,e){t.exports=function(t,e,i,s){var n,r=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(n=t,r=t.default);var o="function"==typeof r?r.options:r;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),i&&(o._scopeId=i),s){var c=Object.create(o.computed||null);Object.keys(s).forEach(function(t){var e=s[t];c[t]=function(){return e}}),o.computed=c}return{esModule:n,exports:r,options:o}}},,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=[{id:1,region:"mc",title:"Москва"},{id:2,region:"le",title:"Санкт-Петербург"},{id:3,region:"ks",title:"Анапа"},{id:4,region:"ir",title:"Ангарск"},{id:5,region:"al",title:"Барнаул"},{id:6,region:"nv",title:"Бердск"},{id:7,region:"al",title:"Бийск"},{id:8,region:"le",title:"Бокситогорск"},{id:9,region:"eu",title:"Биробиджан"},{id:10,region:"ir",title:"Братск"},{id:11,region:"pr",title:"Владивосток"},{id:12,region:"vl",title:"Волгоград"},{id:13,region:"lt",title:"Горно-Алтайск"},{id:14,region:"ks",title:"Геленджик"},{id:15,region:"sv",title:"Екатеринбург"},{id:16,region:"ir",title:"Иркутск"},{id:17,region:"iv",title:"Иваново"},{id:18,region:"kt",title:"Кострома"},{id:19,region:"km",title:"Кемерово"},{id:20,region:"iv",title:"Кинешма"},{id:21,region:"ks",title:"Краснодар"},{id:22,region:"kr",title:"Красноярск"},{id:23,region:"ks",title:"Новороссийск"},{id:24,region:"nv",title:"Новосибирск"},{id:25,region:"km",title:"Новокузнецк"},{id:26,region:"om",title:"Омск"},{id:27,region:"pe",title:"Пермь"},{id:28,region:"rz",title:"Рязань"},{id:29,region:"ro",title:"Ростов-на-Дону"},{id:30,region:"ks",title:"Славянск-на-Кубани"},{id:31,region:"ks",title:"Сочи"},{id:32,region:"st",title:"Ставрополь"},{id:33,region:"ro",title:"Таганрог"},{id:34,region:"tm",title:"Томск"},{id:35,region:"br",title:"Улан-Удэ"},{id:36,region:"bs",title:"Уфа"},{id:37,region:"ha",title:"Хабаровск"},{id:38,region:"cl",title:"Челябинск"},{id:39,region:"ir",title:"Шелехов"},{id:40,region:"sh",title:"Южно-Сахалинск"},{id:41,region:"yr",title:"Ярославль"}];e._cities=s;const n=[{id:7,coordinates:[44.880085,37.33914],title:'Сеть магазинов "Высшая Лига"',address:'ул. Астраханская, 99 ТРЦ "Красная Площадь"',phone:"7 (989) 199-05-49",email:"",site:"http://topliga.ru"},{id:8,coordinates:[44.896906,37.323913],title:'Сеть магазинов "Высшая Лига"',address:"ул. Крымская, 182",phone:"7 (989) 199-05-48",email:"",site:"http://topliga.ru"}];e._shops_3=n;const r=[{id:1,coordinates:[54.985199,82.870753],title:"Классик Спорт",address:"ул. Станиславского, 8",phone:"8 (383) 286-70-36",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"},{id:2,coordinates:[55.049318,82.929664],title:"Pro-футбол",address:'ул. Писарева, 60, специализированный торговый центр "БАZА", 1 этаж',phone:"8 (383) 286-70-36",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"},{id:3,coordinates:[55.04041,82.925218],title:"Единоборец",address:"ул. Крылова, 26, ТЦ «Москва», 4",phone:"8 (383) 286-70-36",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"},{id:4,coordinates:[55.055367,83.041783],title:"Магазин биатлонной базы “Elips”",address:"ул. Биатлонная, 1",phone:"8 (923) 708-04-05",email:"simbis@mail.ru",site:""}];e._shops_24=r;const a=[{id:5,coordinates:[53.334919,83.676479],title:'Сеть аптек "Первая помощь"',address:"ул.Балтийская, 53",phone:"8 (3852) 29-99-13",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"},{id:6,coordinates:[53.337484,83.778536],title:'Экипировочный центр "SportAltai"',address:"ул.Партизанская, 92",phone:"8 (3854) 55-59-79",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"}];e._shops_5=a},,,function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.store=void 0;var n=function(){function t(t,e){var i=[],s=!0,n=!1,r=void 0;try{for(var a,o=t[Symbol.iterator]();!(s=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);s=!0);}catch(t){n=!0,r=t}finally{try{!s&&o.return&&o.return()}finally{if(n)throw r}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=i(1),a=s(r),o=i(3),c=s(o),l=i(2),d=s(l),u=i(4);a.default.use(c.default);e.store=new c.default.Store({debug:!0,state:{cities:[],active_city_idx:0,shops:[],yandex_ready:!1,city_map:null,shop_markers:null,country_map_exist:!1},getters:{isYandexReady:function(t){return t.yandex_ready},getCities:function(t){return t.cities},getShops:function(t){return t.shops},getShopMarkers:function(t){return function(e){return t.shop_markers.get(e)}},getActiveCityTitle:function(t){var e="";return t.cities[t.active_city_idx]&&(e=t.cities[t.active_city_idx].title),e}},mutations:{SET_CITIES:function(t,e){t.cities=d.default.sortBy(e,["title"])},SET_ACTIVE_CITY:function(t,e){t.active_city_idx=e},SET_SHOPS:function(t,e){t.shops=e},SET_YANDEX_READY:function(t){t.yandex_ready=!0},SET_CITY_MAP:function(t,e){t.city_map=e},SET_SHOP_MARKERS:function(t,e){t.shop_markers=e},DESTROY_SHOP_MARKERS:function(t){t.shop_markers.removeAll()}},actions:{fetch_cities:function(t){var e=t.dispatch,i=t.commit;return new Promise(function(t,s){var n=[];setTimeout(function(){n=u._cities,i("SET_CITIES",n),e("set_active_city",[0,"idx"]),t()},500)})},set_active_city:function(t,e){var i=t.dispatch,s=t.commit,r=t.state,a=n(e,2),o=a[0],c=a[1],l=0;(l="idx"===c?o:r.cities.findIndex(function(t){return t.id===o}))>=0&&(s("SET_ACTIVE_CITY",l),r.country_map_exist||i("init_country_map"),i("fetch_shops"))},init_country_map:function(t){function e(){$(".map-pin").tooltip({placement:"right",animation:!1}),$(".js-city").on("click",function(){var t=Number(this.getAttribute("data-value"));s("set_active_city",[t,"id"])})}var i=t.state,s=t.dispatch;i.country_map_exist=!0;var n={};i.cities.forEach(function(t){n[t.region]='<div data-value="'+t.id+'" title="'+t.title+'" class="js-city map-pin"><i class="icon icon-map"></i></div>'}),$("#vmap").vectorMap({map:"russia",backgroundColor:"rgba(0,0,0,0)",color:"#ffffff",hoverColor:"#0068c1",selectedColor:"#393939",borderColor:"#999999",borderOpacity:.5,borderWidth:2,enableZoom:2,normalizeFunction:"polynomial",pins:n,hoverOpacity:0,showTooltip:!1,onRegionClick:function(t,e,i){alert(i+" - "+e)}}),e(),$(window).resize(function(){e()})},fetch_shops:function(t){var e=t.commit,i=t.state,s=t.dispatch;return new Promise(function(t,n){i.cities[i.active_city_idx]||t();var r=[],a=i.cities[i.active_city_idx].id;setTimeout(function(){3==a?r=u._shops_3:24==a?r=u._shops_24:5==a&&(r=u._shops_5),e("SET_SHOPS",r),s(i.city_map?"set_shop_markers":"init_city_map"),t()},500)})},set_yandex_ready:function(t){var e=t.commit;t.dispatch;e("SET_YANDEX_READY")},init_city_map:function(t){var e=t.getters,i=t.commit,s=t.dispatch,n=setInterval(function(){if(e.isYandexReady){clearInterval(n);var t=new ymaps.Map("cityMap",{center:[55.76,37.64],zoom:14,controls:[]},{suppressMapOpenBlock:!0});i("SET_CITY_MAP",t),s("set_shop_markers")}},500);setTimeout(function(){clearInterval(n)},1e4)},set_shop_markers:function(t){var e=t.dispatch,i=t.state,s=i.shop_markers;i.shop_markers?e("destroy_shop_markers"):s=new ymaps.GeoObjectCollection({});var n=ymaps.templateLayoutFactory.createClass('<div class="building-title">{{properties.title}}</div><hr style="border: 1px solid #ccc; margin: 6.5px 0;"><div class="building-item"><span class="building-icon"><i class="icon icon-marker"></i></span><span>{{properties.address}}</span></div><div class="building-item"><span class="building-icon"><i class="icon icon-phone"></i></span><span>{{properties.phone}}</span></div><div class="building-item"><span class="building-icon"><i class="icon icon-mail"></i></span><span>{{properties.email}}</span></div><div class="building-item"><span class="building-icon"><i class="icon icon-site"></i></span><span>{{properties.site}}</span></div>');if(i.shops.length>0){for(var r=0;r<i.shops.length;r++)s.add(new ymaps.Placemark(i.shops[r].coordinates,{title:i.shops[r].title,address:i.shops[r].address,phone:i.shops[r].phone,email:i.shops[r].email,site:i.shops[r].site},{iconLayout:"default#image",iconImageClipRect:[[0,0],[128,128]],iconImageHref:"images/marker.png",iconImageSize:[40,40],iconImageOffset:[-19,-30],balloonContentLayout:n}));i.city_map.geoObjects.add(s),i.city_map.setBounds(s.getBounds(),{checkZoomRange:!0}),e("save_shop_markers",s)}},save_shop_markers:function(t,e){(0,t.commit)("SET_SHOP_MARKERS",e)},destroy_shop_markers:function(t){(0,t.commit)("DESTROY_SHOP_MARKERS")}}})},,function(t,e,i){var s=i(0)(i(18),i(36),null,null);t.exports=s.exports},,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{title(){return this.$store.getters.getActiveCityTitle}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{title(){return this.$store.getters.getActiveCityTitle}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),n=i.n(s);e.default={data(){return{query:"",cities_all(){return this.$store.getters.getCities}}},computed:{filtered_cities(){return n.a.groupBy(this.findBy(this.cities_all(),this.query,"title"),function(t){return t.title.substr(0,1).toUpperCase()})}},methods:{findBy(t,e,i){return t.filter(function(t){return t[i].toLowerCase().includes(e.toLowerCase())})},set_active_city(t){let e=Number(t.target.id.split("_")[1]);this.$store.dispatch("set_active_city",[e,"id"])}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={mounted(){ymaps.ready(()=>{this.init()})},methods:{init(){this.$store.dispatch("set_yandex_ready")}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["title","address","phone","email","site","index"],methods:{open_baloon(t){let e=Number(t.target.id.split("_")[1]);this.$store.getters.getShopMarkers(e).balloon.open()}}}},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(25),n=i.n(s),r=i(27),a=i.n(r),o=i(26),c=i.n(o),l=i(28),d=i.n(l),u=i(23),p=i.n(u),_=i(24),m=i.n(_);e.default={computed:{shops(){return this.$store.getters.getShops}},created(){this.fetch_cities()},methods:{fetch_cities(){this.$store.dispatch("fetch_cities")}},components:{cityList:n.a,countryMap:a.a,cityMap:c.a,shopCard:d.a,chosenCity1:p.a,chosenCity2:m.a}}},,function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var n=i(1),r=s(n),a=i(7),o=i(9),c=s(o);new r.default({store:a.store,render:function(t){return t(c.default)}}).$mount("#map-app")},,,function(t,e,i){var s=i(0)(i(12),i(33),null,null);t.exports=s.exports},function(t,e,i){var s=i(0)(i(13),i(34),null,null);t.exports=s.exports},function(t,e,i){var s=i(0)(i(14),i(32),null,null);t.exports=s.exports},function(t,e,i){var s=i(0)(i(15),i(30),null,null);t.exports=s.exports},function(t,e,i){var s=i(0)(null,i(35),null,null);t.exports=s.exports},function(t,e,i){var s=i(0)(i(16),i(38),null,null);t.exports=s.exports},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-map"},[i("div",{staticStyle:{height:"500px"},attrs:{id:"cityMap"}})])}]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("form",[i("div",{staticClass:"search-block search-block_sity"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Поиск по названиям"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"search-block__scroll scrollbar"},t._l(t.filtered_cities,function(e,s){return i("ul",{staticClass:"search-block__list",attrs:{"data-letter":s}},t._l(e,function(e){return i("li",{key:e.id,attrs:{id:"c_"+e.id},on:{click:t.set_active_city}},[t._v(t._s(e.title))])}))}))])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search-block__btn"},[i("button",{staticClass:"fild",attrs:{type:"button"}}),t._v(" "),i("i",{staticClass:"icon icon-search"})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chose-city"},[i("div",{staticClass:"container"},[i("span",{staticClass:"pr-10"},[t._v("Выбранный город:")]),t._v(" "),i("span",{staticClass:"text-red"},[i("i",{staticClass:"fa fa-map-marker pr-10"}),t._v(" "),i("span",{staticClass:"js-chose-city"},[t._v(t._s(t.title))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"play fz24"},[i("span",{staticClass:"pr-10"},[t._v("Полный список магазинов в:")]),t._v(" "),i("span",{staticClass:"text-red"},[i("i",{staticClass:"fa fa-map-marker pr-10"}),t._v(" "),i("span",{staticClass:"js-chose-city"},[t._v(t._s(t.title))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"searchMap"}},[i("div",{attrs:{id:"vmap"}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("header",{staticClass:"page-header page-header_map"},[i("div",{staticClass:"header-panel"},[i("div",{staticClass:"container"},[i("h1",{staticClass:"header-panel__title mb-15"},[t._v("Адреса магазинов. Выберите нужный город.")]),t._v(" "),i("hr",{staticClass:"line line_dark mb-20"}),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-4"},[i("city-list")],1),t._v(" "),i("div",{staticClass:"col-lg-12 hidden-sm-down map-markers"},[i("country-map")],1)])])])]),t._v(" "),i("main",{attrs:{id:"main"}},[i("chosen-city1"),t._v(" "),i("city-map"),t._v(" "),i("div",{staticClass:"map-bottom"}),t._v(" "),i("div",{staticClass:"mb-100"},[i("img",{staticClass:"woman-back",attrs:{src:"images/woman-back.jpg",alt:""}}),t._v(" "),i("div",{staticClass:"container"},[i("chosen-city2"),t._v(" "),i("hr",{staticClass:"line mt-10 mb-20"}),t._v(" "),i("div",{staticClass:"row flex-items-between"},t._l(t.shops,function(t,e){return i("shop-card",{key:t.id,attrs:{index:e,title:t.title,address:t.address,phone:t.phone,email:t.email,site:t.site}})}))],1)])],1)])},staticRenderFns:[]}},,function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"col-auto col building"},[i("div",{staticClass:"building-title"},[t._v(t._s(t.title))]),t._v(" "),i("div",{staticClass:"building-contact"},[i("div",{staticClass:"building-item"},[t._m(0),t._v(" "),i("a",{attrs:{href:"#!",id:"s_"+t.index},on:{click:function(e){e.preventDefault(),t.open_baloon(e)}}},[t._v(t._s(t.address))])]),t._v(" "),i("div",{staticClass:"building-item"},[t._m(1),t._v(" "),i("span",[t._v(t._s(t.phone))])]),t._v(" "),i("div",{staticClass:"building-item"},[t._m(2),t._v(" "),i("a",{attrs:{href:"mailto:"+t.email}},[t._v(t._s(t.email))])]),t._v(" "),i("div",{staticClass:"building-item"},[t._m(3),t._v(" "),i("a",{attrs:{href:t.site}},[t._v(t._s(t.site))])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"building-icon text-blue"},[i("i",{staticClass:"icon icon-marker"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"building-icon"},[i("i",{staticClass:"icon icon-phone"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"building-icon text-blue"},[i("i",{staticClass:"icon icon-mail"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"building-icon"},[i("i",{staticClass:"icon icon-site"})])}]}}],[20]);
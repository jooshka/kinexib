webpackJsonp([1],[function(t,i){t.exports=function(t,i,e,s){var n,o=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(n=t,o=t.default);var a="function"==typeof o?o.options:o;if(i&&(a.render=i.render,a.staticRenderFns=i.staticRenderFns),e&&(a._scopeId=e),s){var c=Object.create(a.computed||null);Object.keys(s).forEach(function(t){var i=s[t];c[t]=function(){return i}}),a.computed=c}return{esModule:n,exports:o,options:a}}},,,,function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=[{id:1,region:"mc",title:"Москва"},{id:2,region:"le",title:"Санкт-Петербург"},{id:3,region:"ks",title:"Анапа"},{id:4,region:"ir",title:"Ангарск"},{id:5,region:"al",title:"Барнаул"},{id:6,region:"nv",title:"Бердск"},{id:7,region:"al",title:"Бийск"},{id:8,region:"le",title:"Бокситогорск"},{id:9,region:"eu",title:"Биробиджан"},{id:10,region:"ir",title:"Братск"},{id:11,region:"pr",title:"Владивосток"},{id:12,region:"vl",title:"Волгоград"},{id:13,region:"lt",title:"Горно-Алтайск"},{id:14,region:"ks",title:"Геленджик"},{id:15,region:"sv",title:"Екатеринбург"},{id:16,region:"ir",title:"Иркутск"},{id:17,region:"iv",title:"Иваново"},{id:18,region:"kt",title:"Кострома"},{id:19,region:"km",title:"Кемерово"},{id:20,region:"iv",title:"Кинешма"},{id:21,region:"ks",title:"Краснодар"},{id:22,region:"kr",title:"Красноярск"},{id:23,region:"ks",title:"Новороссийск"},{id:24,region:"nv",title:"Новосибирск"},{id:25,region:"km",title:"Новокузнецк"},{id:26,region:"om",title:"Омск"},{id:27,region:"pe",title:"Пермь"},{id:28,region:"rz",title:"Рязань"},{id:29,region:"ro",title:"Ростов-на-Дону"},{id:30,region:"ks",title:"Славянск-на-Кубани"},{id:31,region:"ks",title:"Сочи"},{id:32,region:"st",title:"Ставрополь"},{id:33,region:"ro",title:"Таганрог"},{id:34,region:"tm",title:"Томск"},{id:35,region:"br",title:"Улан-Удэ"},{id:36,region:"bs",title:"Уфа"},{id:37,region:"ha",title:"Хабаровск"},{id:38,region:"cl",title:"Челябинск"},{id:39,region:"ir",title:"Шелехов"},{id:40,region:"sh",title:"Южно-Сахалинск"},{id:41,region:"yr",title:"Ярославль"}];i._cities=s;const n=[{id:7,coordinates:[44.880085,37.33914],title:'Сеть магазинов "Высшая Лига"',address:'ул. Астраханская, 99 ТРЦ "Красная Площадь"',phone:"7 (989) 199-05-49",email:"",site:"http://topliga.ru"},{id:8,coordinates:[44.896906,37.323913],title:'Сеть магазинов "Высшая Лига"',address:"ул. Крымская, 182",phone:"7 (989) 199-05-48",email:"",site:"http://topliga.ru"}];i._shops_3=n;const o=[{id:1,coordinates:[54.985199,82.870753],title:"Классик Спорт",address:"ул. Станиславского, 8",phone:"8 (383) 286-70-36",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"},{id:2,coordinates:[55.049318,82.929664],title:"Pro-футбол",address:'ул. Писарева, 60, специализированный торговый центр "БАZА", 1 этаж',phone:"8 (383) 286-70-36",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"},{id:3,coordinates:[55.04041,82.925218],title:"Единоборец",address:"ул. Крылова, 26, ТЦ «Москва», 4",phone:"8 (383) 286-70-36",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"},{id:4,coordinates:[55.055367,83.041783],title:"Магазин биатлонной базы “Elips”",address:"ул. Биатлонная, 1",phone:"8 (923) 708-04-05",email:"simbis@mail.ru",site:""}];i._shops_24=o;const r=[{id:5,coordinates:[53.334919,83.676479],title:'Сеть аптек "Первая помощь"',address:"ул.Балтийская, 53",phone:"8 (3852) 29-99-13",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"},{id:6,coordinates:[53.337484,83.778536],title:'Экипировочный центр "SportAltai"',address:"ул.Партизанская, 92",phone:"8 (3854) 55-59-79",email:"simbis@mail.ru",site:"http://edinoborec.simbis.ru"}];i._shops_5=r},,function(t,i,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0}),i.store=void 0;var n=function(){function t(t,i){var e=[],s=!0,n=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(s=(r=a.next()).done)&&(e.push(r.value),!i||e.length!==i);s=!0);}catch(t){n=!0,o=t}finally{try{!s&&a.return&&a.return()}finally{if(n)throw o}}return e}return function(i,e){if(Array.isArray(i))return i;if(Symbol.iterator in Object(i))return t(i,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=e(1),r=s(o),a=e(3),c=s(a),d=e(2),l=s(d),u=e(4);r.default.use(c.default);i.store=new c.default.Store({debug:!0,state:{cities:[],active_city_idx:0,shops:[],yandex_ready:!1,city_map:null,shop_markers:null},getters:{isYandexReady:function(t){return t.yandex_ready},getCities:function(t){return t.cities},getShops:function(t){return t.shops},getShopMarkers:function(t){return function(i){return t.shop_markers.get(i)}},getActiveCityTitle:function(t){var i="";return t.cities[t.active_city_idx]&&(i=t.cities[t.active_city_idx].title),i}},mutations:{SET_CITIES:function(t,i){t.cities=l.default.sortBy(i,["title"])},SET_ACTIVE_CITY:function(t,i){t.active_city_idx=i},SET_SHOPS:function(t,i){t.shops=i},SET_YANDEX_READY:function(t){t.yandex_ready=!0},SET_CITY_MAP:function(t,i){t.city_map=i},SET_SHOP_MARKERS:function(t,i){t.shop_markers=i},DESTROY_SHOP_MARKERS:function(t){t.shop_markers.removeAll()}},actions:{fetch_cities:function(t){var i=t.dispatch,e=t.commit;return new Promise(function(t,s){var n=[];setTimeout(function(){n=u._cities,e("SET_CITIES",n),i("set_active_city",[0,"idx"]),t()},500)})},set_active_city:function(t,i){var e=t.dispatch,s=t.commit,o=t.state,r=n(i,2),a=r[0],c=r[1],d=0;(d="idx"===c?a:o.cities.findIndex(function(t){return t.id===a}))>=0&&(s("SET_ACTIVE_CITY",d),e("fetch_shops"))},fetch_shops:function(t){var i=t.commit,e=t.state,s=t.dispatch;return new Promise(function(t,n){e.cities[e.active_city_idx]||t();var o=[],r=e.cities[e.active_city_idx].id;setTimeout(function(){3==r?o=u._shops_3:24==r?o=u._shops_24:5==r&&(o=u._shops_5),i("SET_SHOPS",o),s(e.city_map?"set_shop_markers":"init_city_map"),t()},500)})},set_yandex_ready:function(t){var i=t.commit;t.dispatch;i("SET_YANDEX_READY")},init_city_map:function(t){var i=t.getters,e=t.commit,s=t.dispatch,n=setInterval(function(){if(i.isYandexReady){clearInterval(n);var t=new ymaps.Map("map",{center:[55.76,37.64],zoom:14,controls:[]},{suppressMapOpenBlock:!0});e("SET_CITY_MAP",t),s("set_shop_markers")}},500);setTimeout(function(){clearInterval(n)},1e4)},set_shop_markers:function(t){var i=t.dispatch,e=t.state,s=e.shop_markers;e.shop_markers?i("destroy_shop_markers"):s=new ymaps.GeoObjectCollection({});var n=ymaps.templateLayoutFactory.createClass('<div class="building-title">{{properties.title}}</div><hr style="border: 1px solid #ccc; margin: 6.5px 0;"><div class="building-item"><span class="building-icon"><i class="icon icon-marker"></i></span><span>{{properties.address}}</span></div><div class="building-item"><span class="building-icon"><i class="icon icon-phone"></i></span><span>{{properties.phone}}</span></div><div class="building-item"><span class="building-icon"><i class="icon icon-mail"></i></span><span>{{properties.email}}</span></div><div class="building-item"><span class="building-icon"><i class="icon icon-site"></i></span><span>{{properties.site}}</span></div>');if(e.shops.length>0){for(var o=0;o<e.shops.length;o++)s.add(new ymaps.Placemark(e.shops[o].coordinates,{title:e.shops[o].title,address:e.shops[o].address,phone:e.shops[o].phone,email:e.shops[o].email,site:e.shops[o].site},{iconLayout:"default#image",iconImageClipRect:[[0,0],[128,128]],iconImageHref:"images/marker.png",iconImageSize:[40,40],iconImageOffset:[-19,-30],balloonContentLayout:n}));e.city_map.geoObjects.add(s),e.city_map.setBounds(s.getBounds(),{checkZoomRange:!0}),i("save_shop_markers",s)}},save_shop_markers:function(t,i){(0,t.commit)("SET_SHOP_MARKERS",i)},destroy_shop_markers:function(t){(0,t.commit)("DESTROY_SHOP_MARKERS")}}})},,function(t,i,e){var s=e(0)(e(17),e(30),null,null);t.exports=s.exports},,function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={computed:{title(){return this.$store.getters.getActiveCityTitle},cities(){return this.$store.getters.getCities}},methods:{set_active_city(t){let i=Number(t.target.id.split("_")[1]);this.$store.dispatch("set_active_city",[i,"id"])}}}},function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default={mounted(){ymaps.ready(()=>{this.init()})},methods:{init(){this.$store.dispatch("set_yandex_ready")}}}},,,,,,function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e(23),n=e.n(s),o=e(22),r=e.n(o);i.default={created(){this.fetch_cities()},methods:{fetch_cities(){this.$store.dispatch("fetch_cities")}},components:{mainMap:n.a,chooseCity:r.a}}},,function(t,i,e){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var n=e(1),o=s(n),r=e(6),a=e(8),c=s(a);new o.default({store:r.store,render:function(t){return t(c.default)}}).$mount("#index-app")},,,function(t,i,e){var s=e(0)(e(10),e(33),null,null);t.exports=s.exports},function(t,i,e){var s=e(0)(e(11),e(39),null,null);t.exports=s.exports},,,,,,,function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("section",{staticClass:"main-map"},[e("header",{staticClass:"double-caption"},[e("div",{staticClass:"container"},[e("choose-city")],1)]),t._v(" "),e("main-map")],1)},staticRenderFns:[]}},,,function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("div",{staticClass:"col-sm-9 col-lg-11"},[e("div",{staticClass:"double-caption__item-light"},[e("div",{staticClass:"dropdown"},[e("a",{staticClass:"dropdown-toggle double-caption__light-title",attrs:{href:"#!","data-toggle":"dropdown"}},[t._v("\n        "+t._s(t.title)),e("i",{staticClass:"fa fa-angle-down"})]),t._v(" "),e("div",{staticClass:"dropdown-menu"},t._l(t.cities,function(i){return e("button",{key:i.id,staticClass:"dropdown-item",attrs:{type:"button",id:"c_"+i.id},on:{click:t.set_active_city}},[t._v(t._s(i.title))])}))])])])])},staticRenderFns:[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"col-sm-7 col-lg-5"},[e("div",{staticClass:"double-caption__item-dark"},[t._v("\n      Выберите город:\n    ")])])}]}},,,,,,function(t,i){t.exports={render:function(){var t=this,i=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("footer",{staticClass:"container-map"},[e("div",{attrs:{id:"map"}})])}]}}],[19]);